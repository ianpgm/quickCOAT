#!/usr/bin/env julia

function quickcoat_test()
    println("Running quickCOAT test...")
    quickcoat_executable = joinpath(dirname(readlink(@__FILE__())),"quickcoat")
    query_folder = joinpath(dirname(readlink(@__FILE__())),"test_data")
    output_folder = joinpath(tempdir(),"quickcoat_test_"*join(rand(collect('A':'Z'),10)))
    run(`$quickcoat_executable -r GCA_000474745.1_Acht1_1_protein.faa -q $query_folder -e 0.00001 -i 35 -o $output_folder`)
    println("\nTest complete. If it got this far without errors then quickCOAT is probably working.")
end

quickcoat_test()